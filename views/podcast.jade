extends layout

#safetitle
    ${id}/${safetitle}
block content
    .container
        .col-md-7(id="left-col")
            img.podcast-poster(src="#{feed['itunes:image'].$.href}")
            h3 #{feed.title}
            p #{feed['itunes:summary']}
            table#feedinfo-table(class="table table-bordered")
                tbody
                    tr
                        th Author
                        td #{feed['itunes:author']}
                    tr
                        th Genre
                        td #{feed['itunes:category'].$.text}
        .col-md-7(id="right-col")
            h3 Episodes
            table#episode-table(class="table table-bordered")
                thead
                    tr
                        th Title
                        th Description
                        th Released
                        th 
                tbody
                    each ep in feed.item
                        tr
                            td(title="#{ep.title}") 
                                if ep.title.length >= 30
                                    span #{ep.title.substr(0,26) + '...'}
                                else
                                    span #{ep.title}
                            td(title="#{ep.description}")
                                if ep.description.length >= 30
                                    span #{ep.description.substr(0,26) + '...'}
                                else
                                    span #{ep.description}
                            td
                                span #{ep.pubDate}
                            td
                                a.listenlink(href="javascript:void(0)" data-audio="#{ep.enclosure.$.url}" data-poster="#{feed['itunes:image'].$.href}") Listen